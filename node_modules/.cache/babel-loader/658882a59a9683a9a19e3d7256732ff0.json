{"ast":null,"code":"import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport GameCodeGenerator from '../../tools/generator/GameCodeGenerator';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBldhn6e08q69OTNq246uskucmmKfUZjvs\",\n  authDomain: \"hanabi-64915.firebaseapp.com\",\n  projectId: \"hanabi-64915\",\n  storageBucket: \"hanabi-64915.appspot.com\",\n  messagingSenderId: \"653806150744\",\n  appId: \"1:653806150744:web:eedc14e49aae6d1852962d\",\n  measurementId: \"G-C72H5J6WQ9\"\n};\nfirebase.initializeApp(firebaseConfig);\nexport const db = firebase.firestore();\nexport const createLobby = async () => {\n  // db.collection('lobby').add\n  // let gameCodeExists = false;\n  // let result;\n  // let gameCode = null;\n  // while (!gameCodeExists){\n  //     try {\n  //         gameCode = GameCodeGenerator();\n  //         result = await verifyGameCode(gameCode);\n  //         if (!result){\n  //             gameCodeExists = true;\n  //         } \n  //     } catch(err) {\n  //         console.log(err);\n  //     }\n  // }\n  // if (gameCode != null && gameCodeExists){\n  //     return {code: gameCode, status: 200};\n  // } else if (gameCode === null){\n  //     return {code: null, status: 500};\n  // } else {\n  //     return {code: null, status: 500};\n  // }\n  let result = await verifyGameCode(\"JACABA\");\n};\n\nconst verifyGameCode = async code => {\n  return await db.collection('lobby').doc(code).get().then(querySnapshot => {\n    return querySnapshot.exists;\n  });\n};","map":{"version":3,"sources":["/Users/omarp/workspace/React/Hanabi/src/services/firebase/firestore.js"],"names":["firebase","useCollectionData","GameCodeGenerator","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","db","firestore","createLobby","result","verifyGameCode","code","collection","doc","get","then","querySnapshot","exists"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AAEA,SAASC,iBAAT,QAAkC,gCAAlC;AAEA,OAAOC,iBAAP,MAA8B,yCAA9B;AAEA,MAAMC,cAAc,GAAG;AACnBC,EAAAA,MAAM,EAAE,yCADW;AAEnBC,EAAAA,UAAU,EAAE,8BAFO;AAGnBC,EAAAA,SAAS,EAAE,cAHQ;AAInBC,EAAAA,aAAa,EAAE,0BAJI;AAKnBC,EAAAA,iBAAiB,EAAE,cALA;AAMnBC,EAAAA,KAAK,EAAE,2CANY;AAOnBC,EAAAA,aAAa,EAAE;AAPI,CAAvB;AAUAV,QAAQ,CAACW,aAAT,CAAuBR,cAAvB;AAEA,OAAO,MAAMS,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAX;AAEP,OAAO,MAAMC,WAAW,GAAG,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAIC,MAAM,GAAG,MAAMC,cAAc,CAAC,QAAD,CAAjC;AAEH,CA1BM;;AA4BP,MAAMA,cAAc,GAAG,MAAMC,IAAN,IAAe;AAElC,SAAO,MAAML,EAAE,CAACM,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BF,IAA3B,EAAiCG,GAAjC,GAAuCC,IAAvC,CAA4CC,aAAa,IAAI;AAAC,WAAOA,aAAa,CAACC,MAArB;AAA6B,GAA3F,CAAb;AACH,CAHD","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\nimport GameCodeGenerator from '../../tools/generator/GameCodeGenerator';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBldhn6e08q69OTNq246uskucmmKfUZjvs\",\n    authDomain: \"hanabi-64915.firebaseapp.com\",\n    projectId: \"hanabi-64915\",\n    storageBucket: \"hanabi-64915.appspot.com\",\n    messagingSenderId: \"653806150744\",\n    appId: \"1:653806150744:web:eedc14e49aae6d1852962d\",\n    measurementId: \"G-C72H5J6WQ9\"\n};\n\nfirebase.initializeApp(firebaseConfig)\n\nexport const db = firebase.firestore();\n\nexport const createLobby = async () => {\n    // db.collection('lobby').add\n    // let gameCodeExists = false;\n    // let result;\n    // let gameCode = null;\n    // while (!gameCodeExists){\n    //     try {\n    //         gameCode = GameCodeGenerator();\n    //         result = await verifyGameCode(gameCode);\n    //         if (!result){\n    //             gameCodeExists = true;\n    //         } \n    //     } catch(err) {\n    //         console.log(err);\n    //     }\n    // }\n\n    // if (gameCode != null && gameCodeExists){\n    //     return {code: gameCode, status: 200};\n    // } else if (gameCode === null){\n    //     return {code: null, status: 500};\n    // } else {\n    //     return {code: null, status: 500};\n    // }\n    let result = await verifyGameCode(\"JACABA\");\n\n}\n\nconst verifyGameCode = async(code) => {\n\n    return await db.collection('lobby').doc(code).get().then(querySnapshot => {return querySnapshot.exists;});\n}"]},"metadata":{},"sourceType":"module"}